@import _root_.models.{Order, OrderLine}
@(implicit session: Session)
@main("PurchaseHistory"){

<div id="container" class="row">

    <table class="table">
        @if(!Order.orderList.isEmpty){

        @for(o <- Order.orderList){
        <tr>
            <td>
               Order ID: @o.id
            </td>
            <td>
                Order Status: @o.status
            </td>
            <td>
                Order Payment: @o.paymentMethod
            </td>
            <td>
                Date Ordered: @o.time
            </td>
            <td>
                Account Number: @o.account
            </td>
            <td>

            </td>
        </tr>

        <tr>
            <td colspan="6">
                <div class="panel-group" id="accordion">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse-@o.id">View Items</a>
                            </h4>
                        </div>
                        <div id="collapse-@o.id" class="panel-collapse collapse in">

                            <div class="panel-body">
                                <table class="table">
                                    <tr>
                                        <td>
                                            Product Name
                                        </td>
                                        <td>
                                            Cost
                                        </td>
                                        <td>
                                            Quantity
                                        </td>
                                        <td>
                                            Porusware Quantity
                                        </td>
                                    </tr>
                                    @for(ol <- o.orderLines){
                                    <tr>
                                        <td>
                                            @ol.prod.name
                                        </td>
                                        <td>
                                            £@ol.prod.price
                                        </td>
                                        <td>
                                            @ol.quantity
                                        </td>
                                        <td>
                                            @ol.pwareQuantity
                                        </td>


                                    </tr>
                                    }
                                    <tr>
                                        <td colspan="4">
                                            Total Price: £@OrderLine.totalPrice(o.orderLines)
                                        </td>

                                    </tr>

                                </table>
                            </div>

                        </div>
                    </div>
                </div>





            </td>
        </tr>

        }

        }


    </table>

</div>

}